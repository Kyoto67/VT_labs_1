%! Author = kyoto
%! Date = 08.03.2022


\section{Задание}
По выданному преподавателем варианту восстановить текст заданного варианта программы и подпрограммы
(программного комплекса), определить предназначение и составить его описание, определить область представления и область
допустимых значений исходных данных и результата, выполнить трассировку программного комплекса.


\begin{figure}[H]
    \centering
    \includegraphics[scale=0.6]{img/variant}
\end{figure}


\section{Программа}

\subsection{Основная:}
\begin{center}
    \begin{tabular}{|c|c|c|l|}
        \hline
        \textbf{Cell Address} & \textbf{Cell Content} & \textbf{Mnemonics} & \textbf{Comments}                                    \\
        \hline
        1D9                   & + 0200                & CLA                & Очистка аккумулятора.                                \\
        1DA                   & EE1A                  & ST (IP+26)         & Сохранение аккумулятора в ячейку 1F5 (R).            \\
        1DB                   & AE18                  & LD (IP+24)         & Загрузка в аккумулятор данных из ячейки 1F4 (X).     \\
        1DC                   & 0700                  & INC                & Инкрементация значения в аккумуляторе.               \\
        1DD                   & 0C00                  & PUSH               & Загрузка содержимого AC в подпрограмму.              \\
        1DE                   & D71D                  & CALL 71D           & Вызов подпрограммы с началом в ячейке 71D.           \\
        1DF                   & 0800                  & POP                & Выгрузка результата подпрограммы в AC.               \\
        1E0                   & 6E14                  & SUB (IP+20)        & Вычитание из аккумулятора значение ячейки 1F5 (R).   \\
        1E1                   & EE13                  & ST (IP+19)         & Сохранение результата в ячейку 1F5 (R).              \\
        1E2                   & AE0F                  & LD (IP+15)         & Загрузка в аккумулятор данных из ячейки 1F2 (Z).     \\
        1E3                   & 0740                  & DEC                & Декрементация значения в аккумуляторе.               \\
        1E4                   & 0C00                  & PUSH               & Загрузка содержимого AC в подпрограмму.              \\
        1E5                   & D71D                  & CALL 71D           & Вызов подпрограммы в ячейке 71D.                     \\
        1E6                   & 0800                  & POP                & Выгрузка результата подпрограммы в AC.               \\
        1E7                   & 4E0D                  & ADD (IP+13)        & Сложение значения из ячейки 1F5 (R) с аккумулятором. \\
        1E8                   & EE0C                  & ST (IP+12)         & Сохранение результата в ячейку 1F5 (R).              \\
        1E9                   & AE09                  & LD (IP+9)          & Загрузка в аккумулятор значение из ячейки 1F3 (Y).   \\
        1EA                   & 0740                  & DEC                & Декрементация значения в аккумуляторе.               \\
        1EB                   & 0C00                  & PUSH               & Загрузка содержимого AC в подпрограмму.              \\
        1EC                   & D71D                  & CALL 71D           & Вызов подпрограммы в ячейке 71D.                     \\
        1ED                   & 0800                  & POP                & Выгрузка результата подпрограммы в AC.               \\
        1EE                   & 0740                  & DEC                & Декрементация значения в аккумуляторе.               \\
        1EF                   & 4E05                  & ADD (IP+5)         & Сложение с аккумулятором значения из ячейки 1F5 (R). \\
        1F0                   & EE04                  & ST (IP+4)          & Сохранение результата в ячейку 1F5 (R).              \\
        1F1                   & 0100                  & HLT                & Остановка.                                           \\
        \hline
        1F2                   & ZZZZ                  & Z                  & Переменная Z.                                        \\
        1F3                   & YYYY                  & Y                  & Переменная Y.                                        \\
        1F4                   & XXXX                  & X                  & Переменная X.                                        \\
        1F5                   & FDE8                  & R                  & Ячейка для хранения результата (R).                  \\
        \hline
    \end{tabular}
\end{center}

\newpage

\subsection{Подпрограмма:}
\begin{center}
    \begin{tabular}{|c|c|c|l|}
        \hline
        \textbf{Cell Address} & \textbf{Cell Content} & \textbf{Mnemonics} & \textbf{Comments}                                    \\
        \hline
        71D                   & AC01                  & LD (SP+1)         & Загрузка в аккумулятор последнего сохранённого в стек числа.    \\
        71E                   & F001                  & BEQ (IP+1)        & IF Z==1 THEN 720 -> IP (skip next). \\
        71F                   & F304                  & BPL (IP+4)        & IF N==0 THEN 724 -> IP. \\
        720                   & 6E0A                  & SUB (IP+10)       & AC-MEM(72B). \\
        721                   & F201                  & BMI (IP+1)        & IF N==1 THEN 723 -> IP (skip next). \\
        722                   & CE05                  & JUMP (IP+5)       & 728 -> IP. \\
        723                   & 4E07                  & ADD (IP+7)        & Сложение с аккумулятором значения из ячейки 72B (V). \\
        724                   & 0500                  & ASL               & Арифметический сдвиг влево \\
        725                   & 0500                  & ASL               & (AC_{15} -> C; AC_{i} = AC_{i-1}; 0 -> AC_{0}). \\
        726                   & 6E05                  & SUB (IP+5)        & Вычитание из аккумулятора значение ячейки 72C (B). \\
        727                   & CE01                  & JUMP (IP+1)       & 729 -> IP (skip next). \\
        728                   & AE02                  & LD (IP+2)         & Загрузка в аккумулятор значения ячейки 72B (V). \\
        729                   & EC01                  & ST (SP+1)         & Сохранение результата в стек (SP)+. \\
        72A                   & 0A00                  & RET               & Возвращение из подпрограммы. \\
        \hline
        72B                   & FF06                  & V                 & Локальная переменная подпрограммы (-250). \\
        72C                   & 0027                  & B                 & Локальная переменная подпрограммы (39). \\
        \hline
    \end{tabular}
\end{center}

\section{Функция, реализуемая программой}
\subsection{Основная программа:}
\begin{center}
    \textit{R (X, Y, Z) = F(X+1) + F(Z-1) + F(Y-1) - 1 .}
\end{center}
\subsection{Подпрограмма:}
\begin{center}
    \begin{equation*}
    \textit{
    F(X)=
    \begin{cases}
        4X - 39 &\text{, if X < -250 ;}\\
        -250 &\text{, if -250 $\leqslant$ X $\leqslant$ 0 ;}\\
        4X - 39 &\text{, if X > 0 .}\\
    \end{cases}
    }
    \end{equation*}
\end{center}
\subsection{График функции подпрограммы:}
\begin{figure}[H]
    \centering
    \includegraphics[scale=0.3]{img/graphic}
\end{figure}

\newpage

\section{Область представления данных и область допустимых значений}
\subsection{Область представления:}
В ячейках X, Y, Z, V, B, R находятся знаковые 16теричные целые числа.
\subsection{ОДЗ}
\subsubsection{Подпрограммы:}
\begin{equation*}
    \begin{center}
F(x) $\in$ [$\frac{-2^{15}+1}{3}$;$\frac{2^{15}}{3}$]
\end{center}
    \end{equation*}
\subsubsection{X:}
\begin{equation*}
    \begin{center}
$\frac{-2^{15}+1}{12} + 38 \leqslant X \leqslant \frac{2^{15}}{12} + 38$
\end{center}
    \end{equation*}
\subsubsection{Y:}
\begin{equation*}
    \begin{center}
$\frac{-2^{15}+1}{12} + 40 \leqslant Y \leqslant \frac{2^{15}}{12} + 40$
\end{center}
    \end{equation*}
\subsubsection{Z:}
\begin{equation*}
    \begin{center}
$\frac{-2^{15}+1}{12} + 40 \leqslant Z \leqslant \frac{2^{15}}{12} + 40$
\end{center}
    \end{equation*}
\subsubsection{Результата:}
\begin{equation*}
    \begin{center}
$-2^{15} \leqslant R \leqslant 2^{15}-1$
\end{center}
    \end{equation*}

\section{Расположение программы в памяти БЭВМ:}
\noindent\textit{Основной программы - \textbf{1D9-1F1} . \\
Первый аргумент программы – \textbf{1F2} .  \\
Второй аргумент программы – \textbf{1F3} .  \\
Третий аргумент программы – \textbf{1F4} .  \\
Результат программы – \textbf{1F5} .    \\
Подпрограммы – \textbf{71D-72A} .   \\
Вспомогательная переменная подпрограммы – \textbf{72B} .    \\
Вспомогательная переменная подпрограммы – \textbf{72C} .    \\
}
