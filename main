mkdir lab0		#создание каталога
cd lab0


# --- Задание №1 ---
#		создание директорий и файлов
touch dusclops3
mkdir foongus3
cd foongus3
mkdir quilava
mkdir gastly
touch haunter
touch sandslash
cd ..
touch loudred6
touch pikachu7
mkdir quagsire5
cd quagsire5
touch eelektrik
touch slaking
touch voltorb
mkdir vaporeon
touch hitmonchan
mkdir makuhita
cd ..
mkdir sewaddle9
cd sewaddle9
touch trapinch
touch weavile
mkdir larvitar
mkdir togetic
mkdir aggron
mkdir ferrothorn
cd ..
#		наполнение файлов текстом согласно заданию
echo "Живет  Cave Forest Mountain" > dusclops3
cd foongus3
echo "Живет  Cave" > haunter
echo "Urban" >> haunter
echo "weigth=65.0 height=39.0 atk=10
def=11" > sandslash
cd ..
echo -e "Возможности  Overland=6 Surface=5 Jump=3 Power=3\nIntelligence=4" > loudred6
echo "satk=5 sdef=4 spd=9" > pikachu7
cd quagsire5
echo "Живет  Cave
Freshwater" > eelektrik
echo "Тип покемона  NORMAL NONE" > slaking
echo "Развитые
способности  Aftermath" > voltorb
echo "satk=4 sdef=11 spd=8" > hitmonchan
cd ..
cd sewaddle9
echo "Тип
покемона  GROUND NONE" > trapinch
echo "weigth=75.0 height=43.0 atk=12 def=7" > weavile
cd ..
# --------------------


# --- Задание №2 ---
chmod 060 dusclops3		#dusclops3: ---rw----
chmod 573 foongus3		#foongus3: владелец должен читать директорию и переходить в нее; группа-владелец должна читать, записывать директорию и 
cd foongus3				#переходить в нее; остальные пользователи должны записывать директорию и переходить в нее
chmod 736 quilava			#quilava: rwx-wxrw-
chmod 777 gastly			#gastly: rwxrwxrwx
chmod 044 haunter			#haunter: права 044
chmod 444 sandslash		#sandslash: владелец должен читать файл; группа-владелец должна читать файл; остальные пользователи должны читать файл
cd ..
chmod 006 loudred6		#loudred6: ------rw-
chmod 044 pikachu7		#pikachu7: ---r--r--
chmod 357 quagsire5		#quagsire5: права 357
cd quagsire5
chmod 444 eelektrik		#eelektrik: владелец должен читать файл; группа-владелец должна читать файл; остальные пользователи должны читать файл
chmod 622 slaking			#slaking: владелец должен читать и записывать файл; группа-владелец должна записывать файл; остальные пользователи должны
							#записывать файл
chmod 440 voltorb			#voltorb: r--r-----
chmod 770 vaporeon		#vaporeon: права 770
chmod 660 hitmonchan		#hitmonchan: права 660
chmod 375 makuhita		#makuhita: владелец должен записывать директорию и переходить в нее; группа-владелец должна читать, записывать директорию и
cd ..						#переходить в нее; остальные пользователи должны читать директорию и переходить в нее
chmod 361 sewaddle9		#sewaddle9: владелец должен записывать директорию и переходить в нее; группа-владелец должна читать и записывать директорию;
cd sewaddle9				#остальные пользователи должны только переходить в директорию
chmod 620 trapinch			#trapinch: владелец должен читать и записывать файл; группа-владелец должна записывать файл; остальные пользователи должны не
							#иметь никаких прав
chmod 062 weavile			#weavile: ---rw--w-
chmod 573 larvitar			#larvitar: владелец должен читать директорию и переходить в нее; группа-владелец должна читать, записывать директорию и
							#переходить в нее; остальные пользователи должны записывать директорию и переходить в нее
chmod 755 togetic			#togetic: права 755
chmod 337 aggron			#aggron: права 337
chmod 777 ferrothorn		#ferrothorn: rwxrwxrwx
cd ..
# --------------------




# --- Задание №3 ---
chmod 460 dusclops3
cat dusclops3 > sewaddle9/trapinchdusclops	#скопировать содержимое файла dusclops3 в новый файл lab0/sewaddle9/trapinchdusclops
chmod 060 dusclops3
chmod 444 pikachu7
cp pikachu7 quagsire5/makuhita					#скопировать файл pikachu7 в директорию lab0/quagsire5/makuhita
chmod 044 pikachu7
chmod 044 quagsire5/makuhita/pikachu7
chmod -R 400 sewaddle9
cp -r sewaddle9 quagsire5/makuhita				#скопировать рекурсивно директорию sewaddle9 в директорию lab0/quagsire5/makuhita
chmod 361 sewaddle9
cd sewaddle9
chmod 620 trapinch
chmod 062 weavile
chmod 573 larvitar
chmod 755 togetic
chmod 337 aggron
chmod 777 ferrothorn
cd ..
cd quagsire5/makuhita/
chmod 361 sewaddle9
cd sewaddle9
chmod 620 trapinch
chmod 062 weavile
chmod 573 larvitar
chmod 755 togetic
chmod 337 aggron
chmod 777 ferrothorn
cd /home/s336759/opd/lab1/lab0
ln -s dusclops3 sewaddle9/trapinchdusclops		#cоздать символическую ссылку для файла dusclops3 с именем lab0/sewaddle9/trapinchdusclops
cat quagsire5/eelektrik quagsire5/eelektrik > loudred6_27	#объеденить содержимое файлов lab0/quagsire5/eelektrik, 
	#lab0/quagsire5/eelektrik, в новый файл lab0/loudred6_27
ln loudred6 quagsire5/voltorbloudred			#cоздать жесткую ссылку для файла loudred6 с именем lab0/quagsire5/voltorbloudred
ln -s quagsire5 Copy_12							#создать символическую ссылку c именем Copy_12 на директорию quagsire5 в каталоге lab0
# --------------------


# --- Задание №4 ---
cat pikachu7 | wc -l >> pikachu7					#Подсчитать количество строк содержимого файла pikachu7, результат записать в тот-же файл, ошибки доступа
													#не подавлять и не перенаправлять
ls -Ral | grep -v "total" | grep -v "./" | grep "ta" | sort -nk5r | tail -2	#Вывести два последних элемента рекурсивного списка имен и атрибутов файлов в директории lab0, содержащих строку "ta",
																			#список отсортировать по убыванию размера, ошибки доступа не подавлять и не перенаправлять
find . -type f -name "*a" 2>/dev/null -exec sort -r {} \; | cat -n	#Рекурсивно вывести содержимое файлов с номерами строк из директории lab0, имя которых заканчивается на "a",
																	#строки отсортировать по имени z->a, подавить вывод ошибок доступа
														#Вывести содержимое файлов с номерами строк в директории quagsire5, исключить строки, содержащие "te",
chmod -R 777 quagsire5

cat -n "quagsire5/*" 2>&1 | grep -v "te"				#добавить вывод ошибок доступа в стандартный поток вывода

ls -Ral | grep -v "./" | grep -v "^$" | grep -v "total" | grep -v "Permission denied" | sort -nk2 | head -3	#Вывести два первых элемента рекурсивного списка имен и атрибутов файлов в директории lab0,
																											#список отсортировать по возрастанию количества жестких ссылок, подавить вывод ошибок доступа
find . -type f -name "s*" 2>/dev/null -exec ls -l {} \; >> a #Вывести два первых элемента рекурсивного списка имен
sort -k6 a | head -2								#и атрибутов файлов в директории lab0,начинающихся на символ "s",
rm a											#список отсортировать по убыванию даты модификации файла, подавить вывод ошибок доступа
# --------------------


# --- Задание №5 ---
rm -f pikachu7						#Удалить файл pikachu7
rm -f quagsire5/voltorb				#Удалить файл lab0/quagsire5/voltorb
rm sewaddle9/trapinchdusclo*		#удалить символические ссылки lab0/sewaddle9/trapinchdusclo*
rm quagsire5/voltorbloudr*			#удалить жесткие ссылки lab0/quagsire5/voltorbloudr*
#rm -r quagsire5						#Удалить директорию quagsire5
rmdir sewaddle9/togetic				#Удалить директорию lab0/sewaddle9/togetic
# --------------------